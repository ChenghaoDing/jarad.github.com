<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=9" >

<title>Programming in R</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>


<!-- MathJax scripts -->
<script type="text/javascript" src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



</head>

<body>
<p>To follow along, use the <a href="lab04.R">lab04 code</a>.</p>

<h2>Programming in R</h2>

<p>R is made up primarily of </p>

<ul>
<li>objects</li>
<li>functions</li>
</ul>

<p>We discussed many R objects in <a href="../lab01/lab01.html#types">lab 01</a>, 
but there are many more.</p>

<h3>Functions</h3>

<p>Functions are written to be performed on objects.
The function below simply adds 1 to whatever the argument is. </p>

<pre><code class="r">add1 &lt;- function(a) {
  return(a+1)
}

add1(2)
</code></pre>

<pre><code>## [1] 3
</code></pre>

<pre><code class="r">add1(a = 3)
</code></pre>

<pre><code>## [1] 4
</code></pre>

<p>The following function adds the two arguments.</p>

<pre><code class="r">add &lt;- function(a, b) {
  return(a+b)
}

add(1,1)
</code></pre>

<pre><code>## [1] 2
</code></pre>

<pre><code class="r">add(a = 2, b = 3)
</code></pre>

<pre><code>## [1] 5
</code></pre>

<p>Many functions in R are vectorized meaning they can take vector arguments and
return a sensible value. 
As written, our functions are vectorized, e.g. </p>

<pre><code class="r">add1(a = 1:2)
</code></pre>

<pre><code>## [1] 2 3
</code></pre>

<pre><code class="r">add(a = 1:2, b = 3:4)
</code></pre>

<pre><code>## [1] 4 6
</code></pre>

<p>This is usually helpful, but it is not always clear what the results should be.
For example, what do you think the result is if you run</p>

<pre><code class="r">add(a = 1:4, b = 1:2)
</code></pre>

<h3>Arguments</h3>

<p>Arguments to functions can be provided by order or by name or both. 
You can also specify arguments using a partial name.</p>

<pre><code class="r">f &lt;- function(first, second) {
  return(first/2 + second)
}

f(1,2)
</code></pre>

<pre><code>## [1] 2.5
</code></pre>

<pre><code class="r">f(1, second = 2)
</code></pre>

<pre><code>## [1] 2.5
</code></pre>

<pre><code class="r">f(first = 1, second = 2)
</code></pre>

<pre><code>## [1] 2.5
</code></pre>

<pre><code class="r">f(second = 2, 1) # I thought this was going to be an error
</code></pre>

<pre><code>## [1] 2.5
</code></pre>

<pre><code class="r">f(f = 1, s = 2)
</code></pre>

<pre><code>## [1] 2.5
</code></pre>

<p>My suggestion is that you always use argument full names when writing your code.
Due to RStudio&#39;s tab-autocomplete, typing in the full name should not slow you 
down.</p>

<p>Many functions have default arguments. 
You can specify default arguments in the functions you write by using the <code>=</code>
sign in the function definition.</p>

<pre><code class="r">add &lt;- function(a, b = 1) {
  return(a+b)
}

add(a = 1)
</code></pre>

<pre><code>## [1] 2
</code></pre>

<pre><code class="r">add(a = 1:2)
</code></pre>

<pre><code>## [1] 2 3
</code></pre>

<pre><code class="r">add(a = 2:3, b =  2)
</code></pre>

<pre><code>## [1] 4 5
</code></pre>

<pre><code class="r">add(a = 3:4, b = -1)
</code></pre>

<pre><code>## [1] 2 3
</code></pre>

<p>For example, the <code>norm</code> functions have default arguments that correspond to a 
standard normal, i.e. <code>mean=0</code> and <code>sd=1</code>. </p>

<pre><code class="r">hist(rnorm(1e6), probability = TRUE)
curve(dnorm(x), add = TRUE, col = &#39;red&#39;)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-7"/></p>

<h4>Function activity</h4>

<p>Create a function with arguments named <code>first</code> and <code>second</code> and have the 
function subtract the second argument from the first.
Provide a default for <code>first</code> that is the vector <code>1:2</code> and  for <code>second</code>
that is the value <code>1</code>. </p>

<p><details><summary>Click for solution</summary> </p>

<pre><code class="r">sub &lt;- function(first = 1:2, second = 1) {
  return(first - second)
}
</code></pre>

<p></details></p>

<h3>Generic Functions</h3>

<p>R has generic functions, i.e. functions where the type of object passed as the 
first argument to the function determine which version of the function to 
actually run.
The <code>summary()</code> function is a generic function.
This function will return different outputs depending on what the first 
argument is, e.g.</p>

<pre><code class="r">summary(c(TRUE,FALSE,TRUE))
</code></pre>

<pre><code>##    Mode   FALSE    TRUE 
## logical       1       2
</code></pre>

<pre><code class="r">summary(1:10)
</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1.00    3.25    5.50    5.50    7.75   10.00
</code></pre>

<p>In the help file it says &ldquo;summary is a generic function&rdquo;.</p>

<pre><code class="r">?summary
</code></pre>

<p>To determine exactly what function will be executed when using the a generic 
function, you need to determine the <code>class</code> of the object.</p>

<p>Here is an example</p>

<pre><code class="r">n &lt;- 10
x &lt;- rnorm(n)
y &lt;- rnorm(n, x)
m &lt;- lm(y~x) # a linear regression
summary(m)
</code></pre>

<pre><code>## 
## Call:
## lm(formula = y ~ x)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.87019 -0.44317  0.06692  0.37991  0.99457 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)   
## (Intercept)   0.4730     0.2111   2.241  0.05535 . 
## x             0.9594     0.2546   3.768  0.00548 **
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.6636 on 8 degrees of freedom
## Multiple R-squared:  0.6396, Adjusted R-squared:  0.5946 
## F-statistic:  14.2 on 1 and 8 DF,  p-value: 0.005478
</code></pre>

<p>Here the generic function <code>summary()</code> checked the class of <code>m</code>.</p>

<pre><code class="r">class(m)
</code></pre>

<pre><code>## [1] &quot;lm&quot;
</code></pre>

<p>and found that the class is <code>lm</code> and uses the appropriate summary function,
i.e. <code>summary.lm()</code>. </p>

<p>There are other helpful functions for <code>lm</code> objects, e.g. </p>

<pre><code class="r">summary(m)
</code></pre>

<pre><code>## 
## Call:
## lm(formula = y ~ x)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.87019 -0.44317  0.06692  0.37991  0.99457 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)   
## (Intercept)   0.4730     0.2111   2.241  0.05535 . 
## x             0.9594     0.2546   3.768  0.00548 **
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.6636 on 8 degrees of freedom
## Multiple R-squared:  0.6396, Adjusted R-squared:  0.5946 
## F-statistic:  14.2 on 1 and 8 DF,  p-value: 0.005478
</code></pre>

<pre><code class="r">anova(m)
</code></pre>

<pre><code>## Analysis of Variance Table
## 
## Response: y
##           Df Sum Sq Mean Sq F value   Pr(&gt;F)   
## x          1 6.2527  6.2527  14.201 0.005478 **
## Residuals  8 3.5225  0.4403                    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
</code></pre>

<pre><code class="r">opar &lt;- par(mfrow=c(2,2)); plot(m); par(opar)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAABXFBMVEUAAAAAADoAAGYAOmYAOpAAZpAAZrYXOlgqMpAyEzwzWm06AAA6ADo6AGY6Ojo6OmY6OpA6SSg6ZmY6ZpA6ZrY6kJA6kNtZIStaf39mAABmADpmAGZmOgBmOjpmOmZmOpBmWABmZjpmZmZmZpBmZrZmkJBmkLZmkNtmtttmtv97Ohd+ISt/f21/f3+QOgCQOjqQOmaQWDqQZgCQZmaQZpCQkGaQkLaQkNuQtpCQttuQ29uQ2/+fIQC2ZgC2Zjq2Zma2kJC2tma225C22/+2/7a2/9u2//++vr7ALivAU2vbkDrbkGbbtmbb25Db29vb/7bb/9vb///fRzzfU2vkkdDqc5/qkZ/qkbnqkdDqrtDqrufqyf/vkZ/vrrnvrufvyefv5P/0kZ/0///6rp/6ybn65Of65P/6////tmb/tpD/yZ//ybn/25D/27b/5Ln/5ND//7b//9D//9v////iSLbYAAAACXBIWXMAAAsSAAALEgHS3X78AAAgAElEQVR4nO1diZ/ctnXmKtvpsZa8tZ1p17Kj2jmcaauVGrm5tiM5jrVqxrWUKdI0TZMmTa9xOnUmw///9ytx8MbxAAIkOHiftLskATzi4eN7AHEQWY5IEtnUGUBMAyQ+USDxiQKJTxRIfKJA4hMFEp8okPhEgcQnCiQ+USDxiQKJTxRIfKJA4hMFEp8okPhEgcQnCiQ+USDxiQKJTxRIfKJA4hMFEp8okPhEgcQnCiQ+USDxiQKJTxRIfKJA4hMFEp8okPhEgcQnCiQ+UQQhfn+RFbhz2718l105Xq+k1zWilkUU/r8R1JMTLfYXNKc6NfNG+KZQuNKsdeITYYhnKmzOt9JQO+KrsFkTT40ASPy6KLbDlVCtdeIVAYmnvw9XzPB3zP7FhS+9s6JH7OeCPs/0aCc8xP5ymx8f3ZSnZWns735yxb2IkMjlhMh8AOzv/mDRLI/96+/cef7obwtPVui5zBvFUCq840bTOvGLwBa/XuabRX64f0v/0MvFhV1WEn94+0YYsoiRU9IL8l+VpzXxpavnEoWcEJkPgCLf61Wl/vmWuv7jdVEgF4t2MRRxd0xteql74hcB63jqpYosF5yKnAuCCxddWnyB4orQnWNTELusT5moRU18KZHLCZH5AKD5frAV6hcaUNXpE05/hKq8GIoD/rzTkO6JXwSz+N3ZDXPIWVYcFPSd1U/1uiZ+Tb23cPpn/Om4/PGjm8Zpx+KFRCEnROYDgOZ2IxqolMYe8VUxNIy8uLaYncVTFTZFZUafcAHq4boWT5stdZuNV2XHR9+93NanPeLvl35iXhZP9VJZfKsY6O/Pb/aXVR1fnfhFOOJpJSbqNMohJ17UzfQZ3ghTf42Wg4hBE28ylkZBvJA4uzpeNO1FHd8mvi4GGrloGhVuTajWOvGKkK36iyX19WelK+MP/jVrjRevp1+mDbisbOOvq/f+ogjy+rQm/nh95/k1a9VTiULOPCBq7ztVq77j6utioCjO7vyANvZ7Jz6BPXeJAolPFEh8okDiEwUSnyjsic9mB4+lNTuoVbFXfkjJTQEvGTaVY6RA4qMTNQ6Q+OhEjQMkPjpR4+ChMgSJn0jUKHiIFh+dqHGAxEcnKjyom3ckfsdeYTpjYLNSniJR4ln17kY8n/LTnRw6J+UZEiWewY34wwM2JeYxEh9AVFiUrXlH4t9Giw8mKiiqt7gx6njan7l780P9ooEpkBjxnAPRuzxCqz6j/5/d7j+wFhgaiRHPOMhEXocQX9fx2oEKdqtPv7kJMD1sIJzYKto3Ys3OYFEj49M/KTjwQTw0BX0iji8/OxGLL4h/eiOatwNFjYy/ZhyM5+oZPv/6qdTxnPg5vtG0OMCeO1scrhafztDiu4Myjq9zbIFqt6KLXvkuHDO8yxa9tUux694bjHO0eOnandiV78GU4c1yDV2xcEK661XZSNaqnJDyDIf7nxT/5E0T4BtNHJCNvWMdr8bh/sdsPb4HUZNCOucCiddgna3W6OqHyIoU2gzLG7BOoqaEaooVEm+Leb3RKKfWIfHWOPU3GiSersWXufoTf6NB4ovXuQevvuZF1CR4qJ5CjcTrcLj//PHzxzNv3KmAxGuwWWyyhR9R0QGJj06UH+jcPEVQ4uPuyDxp4k28ByU+i6882jDV8Vcz7cCBGBwSr8dhhq367CEgO+jq9TjMcJDmISQ72LhTg7n6Obbqp3b10eMUG3fGVp0AEh+dqEGA8u465262c8tbSGFYVgVn4mc6t7wFQ4bp9KqujhIh8U+9kmEI8XOcW96Csa/+dlateu2gTBeu06tnObe8C1OGd/2Foa6iooNr426Oc8t7OInGnWMtg616FQ4PXs2hy7bsHrVx8yKddUiJWc0tl+EULF4Qb8s7Wnx8omzvjK7eGsaJGDNZQmVt7rkz8Ul87ky3hMpSVFC48O5IfBqfOzuVJVRSOHfg5HP+3JnxqxAcc1hC5WTuOYB4aT3n7XNn07wJlK9AJ9C4c+XdSLyinvNUx080RycjBET8LltAd6mdj7cTMBPvoZ4jmhQTlFhBO8jVF7q/1e+rj2hk0tncc4CrH17PEUL/K5KMXmCkkRdX4qcdmazKbAjvBuJ9jEkT/ptYZiwM2tlwGqSZemTSk5cM3oFDqgMiCx4TpJsFpwKcemRyHsS3inpa6iV3N7l6xSSMiUcmM6dBmZ4UU4hiqTBMFjGcj4aesTOYiI94dG4o75DXOfelwqQXZRKjl7OeD2LrhEcmS+LdlwoTWaTRqdfccK4dOIPNPYf03DkvFSaKaGNSrzR2hpkS74P3gI07oo44FvWm+7ixdeojkwOJJ9qo+lAv0Bs7gxNbE49MejH3HFDHO7ZsiSFuaKMHydfPuVN0Xk07MumLd5DFuywVJsbYAakHGDuDgS35goqT34ipQbz9IA2BxA9EPVyssa9euqBiujrem7nnQFdv3aonwLv7px5q7AxOffVuonzAJ+9hGncEnsYiKkSanbiZvs55QYjJlsQmA6DIVceYrofMyti5NMv444gaB27DstpXGmKVAUjsakBKMzLlUmvMaAaO1YJICEwWr2jZal5piGUOAPGNxNsbeylOB/lEDCdR8cHcVy9r2fp8pSGAOHpX79xEjJn4lqYBxoCMdby8ZevzlYa4JStTD3gziLhV3/JtoM9Y2d/AOsRfCg7imG4Y63nUjbsm8Q89Tbrp3kATol8q3B2TfvEiz+f2owOt0LrtGPtydMTkrt6LLAOISxoPnT+mOv7du7eTEV/Cd2u+xEyJ99PlZ5xz99ndqb9XH4p3wEQM6VJhz/3VxC62r55e82TL/etfMRF/slOvZEuofI9JE5u4NpH1MBOf76acbBnM3HMI8bIlVN7HpAk4IjgmAPrx+Mm/gROSd8j0askSKv9j0sRrNCAifp0LjhCDNC4gHmOBgcRrQsYaqCCe4tjAaeqVgygHeB+U6QJQx4/TX03MMcxRLOE09cpJVHyIhnjz9MxB0qVwm3rlIio+OA7SWMoCgQwIdUOsgzSh3TxFFD13HMQ50BWRNu7G4D0m4rVrbwaKlgPQgeNJVHwwEL8pfN3xeqSWLXEIGQQT8dIOnMDfwBnF3HPjsOz92/29126UcaCygCCW14fCKcNhv4EzFu/G8fgttFmrlQUFsbjqAQOIn+/HHQXMxMMrOg/KE+A1PzBlWPo1kIDfwBnN3HMj8aP3XhHAFW8wvsfLvwYS6hs4Y/IeVauegRjOfcJIvPvXQKJHdMS3mQ67mtqUYc3XQLzX8aOaex478UQRxxMi6sAZm/cIiW+wTZRx/MBLhk906pUcYTsxSOdvMLgNy6b8DZzAH/IlbCI58SVOCadh2QDfwBndz+fDiA/XiUEKYcSbNCWchmX9fwNnCt5diQ/8Id+CdSK97tejOg3LJvQNHBkCf8hXbu+Z5wJ2E+a3jq/NfdwGYoSteu0NIiDeq6gG7+O6jSHEjz9QMbKrV365u9/kc8pYe2HkfIgfnmJiABp3ihAvxGcPW8nm6OpPrhODAbpSFiBKihDfOwDDkfhT78RgCL5RwZSm4kZ8GluMBhU1yct7A84dOPmctxgVmJD4qXl3Jf7UOzE4Bu3HEzmwjldj0H48sQNf59QINQMn+IJICNyJ99SJMSUGzMCxFRUdkPjoRI0DdPVq0Efb++fOYnDzFEi8EmvWgD03LSuw67WMhXckXoOUF016khUpxq7jozH3HInXYP/azc7rhxFi4h2JV+L46Kb4v79M9Bs4fmRFCm2G6QdNL7feWvVRmXseF/Gjj1LqLf7x7W6Z74yteoCoPD7eYyJ+5LlHuXk+6Z3bDXCM5pS8XfLETyVqHMRB/P6rT25ic/X+RPFBGaod1zMKeCfeib1nz186pBqMMS2e+bOJ9JTBN/Fu/vrpN54B35e9wol4xwWjrGAm0lMG3xMx3Ih/dnv4jn2qwXAl3mbBaNWcp65wIj1l8D7Zkuq3e9OyKpuo7htAPHS+Yfs1bvZ1vGGy5cvt/oOhGRsDbsQHXjA6EsJMtjw+gS9FmBCObIEXjEbXa9NAkMmWxyc/HJitcRC4VR8z72He49dvvP89t+yMiwHEn/CaArMqJ6z8cFFRm3seS8/dRPCS4cbUq0bnVey8eyL+NFfL2opifRjWr7ITAS3eFvLPoFXE01fZ6M09d36dUyo/K7hlWDopp3b1xyd/PiRPY8HR4tXKzwmOGd5I+ttP6FVWXypa5eeCEK36+b/KYh3vJGoO9TsFEu8C9brBufA+gHiJ8rODa6mdtO72xMNSakPdA4ck9QmnAvWcaJgfdy8rJN42D0g8Eu8jERIPTOoTSLxTKBLvIxESD0zqEykTj5g1kPhEgcQnCiQ+USDxiQKJTxRIfKJA4hOFE/Hr7OxGHJRHsrBukD5hvS2QLGUztBd8vC6/TSlP6heajCihUlxTWrqyUpcUOHMuxO/Ot/xrQXw5rTysOgAm5F+jyRUp61BZ0t2i0HSlTOoXuowo0ygU15SWtpCVJQXPnAvxm6V4sA7vXnQ/+F2FVQfAhPnx22LNjixlHSpLylKtVEn9wpgRGVSKa0pLU1bqkrLInBPxK7Gualc8Xp35mFVYdQBMmFeLtWQp61B5Umb0yqR+oc+IFCrFNaWlLSt1SYEzZ038Olu0HrTdshUMs3hJwjrTCrNtqNhPul70bxAAa2pG2ozIE6kUh1i87D7qkgJnblAdT0V3nitYHS9JWGdaUVGXoZKkx+tV5wYhocmICirFIXW8VGFlSYEz596qp7PxirZj97FqhCla9YqEPNOqlM1QyT0LLNVJ/UKTESVUimtKS1dW6pICZw7f4xMFEp8okPhEgcQnCiQ+USDxiQKJTxRIfKJA4hMFEp8okPhEgcQnCiQ+USDxiQKJTxRIfKJA4hPFmMTvL9hEmfu3+Udb+r/CU8Xk8HlC7Ouxf0sd5aNtW0VxRj8eLN/tlCXwWiyjEl8WBd3U7cHJEi/yryG+9w05MZGaboEj3eeWJ5g58UX219mCzlfl88LW2Z33KPEF+/vLbXFtQaPQuMUVFmXX2xcncnDi37iiy3tKJQu1Nvfu3LLTQnkaZUPX/5QK5+W02PWq1n2R7+9dsEgLYfHeCmRsV3+HZp9bPJ0Kv1kVv/lmT8XBhup8fHRTEc+jFIUQzZ6dIHDi794WqlRKFoRuFjk/pfoXKl5u880bpcJ5OS12s+S686Kgm9sX4Q+Eq/dXIJNYPCd+w+bGUm2Zqz/c/4RbwVlNPI9SPDDg6axRoHL1pQZUyd1ys8w35XxgSiJTqlQ4Ly1+U1o8C+HHFfH+CmRC4rmexTMsFnpt3l/SJQLC4i+3hSMo1wRIP5wfLxrEV0pSi18KbmuL32XL2uIPV6vD1Tc/3HLdeVF0iPdXINMQf3X+6opVb0Vdtc7O7jHi96/d0Nrg7L1VEeV4zap+FmU9zzq+qqmZkrSO55V9tqL6c+925+NSYZaObQmy4LrzohDEswSijvdTIPgenyiQ+ESBxCcKJD5RIPGJAolPFEh8okDiEwUSnyiQ+ESBxCcKJD5RIPGJAolPFEh8okDiEwUSnyiQ+ESBxCcKJD5RIPGJAolPFEh8okDiEwUSnyiQ+ESBxCcKJD5RIPGJAolPFEh8okDiEwUSnyiQ+ESBxCcKJD5RIPGJAolPFEh8okDiEwUSnyiQ+ESBxCcKJD5RIPGJAolPFEh8okDiEwUSnyiQ+EQRnnjZLnr7u7fKs25ETWg8YHsp9jcLFHk/Xq+k1+WixtE3OPGHq0LpzXl77xwb4kNlzCt4PrtqlkiSeKYH3VmusPwztttQtmIXi3NhIaWq4kojIr3ycRV3f/mtWLcl4io01Nox+xcXvvTOih6xn0r/nfAQdEMpukFd6TBapSEChf6vv1NcYQKY1HdvGoVoi+DEH6+5GdCnfnf+qngChPteL/PNgkUpVS2u7M633YgibhGyv2B/QufYBbXFc7XYRpKLvMx7VhJ/qNQSMXK2+dr+8lV52iyNzYIHbrnQ/cUqFwKY1MI86kK0xQiNu13GLLjyYHTLNV4EYtctEUTPiqvdiKKQREikvp/X8QXvQi2+eWYu8l48y4281/pz0H0Il/VpGYsLqgJ5qlwIYFILT1AXoi3GadXvX7spt8hbU5dGFad7rJ3d0A3ZhEL0D99UsxVRGD0NiZh46ruLxzsXarEN9CrnRveLLfNeqiVi0LSXP3500zi9W+9Bd3bDAstjFsIFVFVAJpLZIjjxO+aJuOa8qVdbsYDM4uuI87B4mi26EXRDLVo5dS2+VkvEyKmv/y5/1vlpozTKwIZnFAJKi3ffX3qcVn3BGq2693dpS42af1Vv0yj9Or4ZsVHHR0788XpRKkE1EznmdTx1yhth6kwtEYMm3mS8KFrEl+WzYZtRt/SnW3LWdbxjq2ec93jhBM/YTrmijcvPKXgFuWi36nnE43WzVR858TltfQq11lWr/nhNFaH6fJlvKyr0X1fv/ZTI+rRRGlQQCxQvOsytMAH0yh88umkUoi2w5262GGYDSPwsUbgRV1MXQOITBRKfKJD4RGFPfDY7OBXMjnaJHx+320+DskE8qWMFNY3WJTI7H+GUYdpJvl71iGe/XzhmhBBYNEfxMiDxtjg82Ob50+9XxDcNyJV4KIAPCARjEE9LZffmh/H1rzhbfPHrdZnFhwfxJWgE4jP6/9nt/gNrgaHhxhbrHun2kQwnngyWYIWxiP/0m5ultcDQ8GimHlw98R5Rh7Fc/fHlZ6di8RpRw+p4cA3uo6r3TrziPeHzr59KHR9cFARksARH4uXvsuyHZEVL7smg3uKxECHxJEhUCdyIV7/LZjRDL7cRtuQkiMzVM1i4cXhMCdyI777LNlIUrp6Q45P4/LoEMRJvQ/2Qut7d4jXvsse/+qF7jkZEhK7eGsQxnWMdr3+XXb/xZ99zzM+oiIb4XhcXgad1NHsN8da6NBN47FwMh1hcvaSLy6b8nMpaS7xhJOco7a+usuOQm5ERFfHdLi5iJcIudg6w+M1ynQH73DqyrPMyOqJy9bIuLgIXYWv2JuIP9z8p/sHa6F1Z0bv7aIinkHZxEQsBdsVtJv5jtnrLTZZVVsZHLK5eA0vjgcc2uvp1tlr3XD1boNNb9S2RFbfRz4B4WxBoiTu26stlbGZZwHwY7xgCpvu5t2/8IoT56ImXWzbFRrIaXS6LAHKx/+qTG962HRWG2w1p33iGrcc3Rw/1Hm+Xi2fPX+YxEm/bvpne1ZcwFvoIxAOM/uk3nq0idPXS9o1OVFDiwdV3nUITBmjcSV29nSxTlp/dHr4DuoVfaIlXV3PWorzBlnrNswJ4j3/w6muw2+iU12eZ1fHjI6r3eCiInwRm4p8/fv7Y8alv+W75/SfFPF/niK3PlyYwd9kuNhnwIzpdWZ3WWnzv9OY63tLVx9O4MyJk467XTI+NevPrnJdqLgism3qdBEFb9X0RpHthUhiJH1DNjQBinaCRwljHX/lt2UZl9MaeO9tqbnxXb/+KJ1JALP7g1d1FRH18jTuHrgz78mQJ6I2++Ik+D9BPZ0EzHQ310b3OOXde2ht+cZ/f/fJn0kzUrt6xVa+5LThmUJjqeM/VHEiKqyCXiRi/1xBvKwuIOIwekGG7am4KV9+ATUt/IuLjoB5C/MwGacDFqice2l9t+rqGFMQuegBAXL33ak4KMix5RxiEfVOrns6kZetmALBVfnKjd2ILPPvIBmRYcqk8vUxzX/2t91Z9jYmpd2OrM/vIx6dQSBD3p7V843v8LgPv/eBSjsQhjTc4DsuqZx/FRbyQLRc9ykQMHSYxeqGbIcMhq7k2SFAL6HTSm3QfifgpjL58XTb21Yes5hogefBSoEOzf//+u0uA7qxV/+DVCJ0Yoxs9+3pDbs6wdTXn6OpJ9Sssjh/+CEi8HdyfeuKc0u12BOTqbTAL4nerelJGkeEvfvrPvyl+/9NPf92KNXjtnA2Ie9IBN9M37kbxdo38kAEiYHhW6kLYo//vv/ni53n+21/9dzvW8LVzNhjR3dd3imSQhrT+hIPofub3YcT//t/y/D9/9R8/b0XzsXbOBmRQavhtGveJxNWTzt+wEHepLP6//qfTc6tbOyfH0N4rMiw97CbNE+NEDNtqzol40jsIifImRYb/92e/+PVv//W3//ILaR1vgcEGREwRhi656Dxb5jl3Y1RzRHIUDNUtAD13i3XAnrs2DEY/YLiai+/L02Gkao5IjkKhvoO5r/7jtySdGMXjsOnteeOjyiS6wIHE92SbhI2yhIoojkOgId+N+OPjW7o/bqc700tbSWv0Q1y91aICa8CIl+WfKI79o1UCboM0BeW7pfSTph5A8+d//SSRXDP33Pmt5qQeiyhPPKMt263nLqDFU5ChlXlfIpFdNdfxsmpOCmfiiebMKzqija5ePjoVrI7nKHjySjyRX/ZOvIOrJ9pTf+gKNhI/+kxTLor4k6UuzRgGaYj21Bt6cocM0ug/cDgQxJ8kpagIumyJ8YIX9KXGMTonARlBkMnVAydhAEQpQYwXfEAidGLiNTch9tJsxZiIt67m7F09MV7wAJlMR+J3zLV36j974rWtd2ItTiJDK2T6QRoCuDIYUpGOr3P0e/UetuAKTbxBxPR1PAFdGga5QMPUK8VMU177eejA0boVYi+vnd4kIAniFfJMFi+faXp424/FG0ACp47R1fsmXiXO3FcvnWnqqY43gAROPDnxBHzRES6vsuMsqNCDuKeEJNXPuQvznTuiPNFedINGVLTv8RwkaDpDhoMsqCDKE+1FJ+gknSTx0Elcxr562wUVZldPmioRVRw/0MqJawZOHyRkmgn66jnxomyJKo4X6MU4zsCxlOUOEjLJBK9zhA4/ld0XRBHHR4bc+zDiIN66FGzm6o5PfMYsXhBPFJFU161gEhJ3q56ChIvtfQaO0dUTPuKc6Qx+jD7L6Bt3uV0pWE7NH30iRuHpM8A8emUAGGYJRlf/9k2va9Ze1iCQADE53Igf0nlF8jqXRBtrEAACjMS/e/d2YuLB5QCNV8GpVT9ogIrkEOKHMg9Jbp5z99ndqT/kS2CxYNGacMpwd4CKTz56UXj5F8Uv/lf5QxTHnR9ikjP8BzDZcv/6Vyb+gjPxFKcLk6uXVnO6ASpI467MKjFFcwUsMWSW7S7Md+4sQIwRjDFkMBEvr+YG1PGk91sXzwnDey1jadVTkIHhChjn3Pmu5kjjDwFEtAc4oWEixmhfhTCADAhVwzzZ0rKaM7l6Uv8hkIjWgKebh8Xrm8CaMD0As2zN1VxT1NTEWySbP/HqECP04/EBvB2p/xBQTDvYJHKbc2crywOI5XUIRu+rJ9VfoonVjGkDqzRuc+5sZXkAkV+VXwZi9KlXpPpLNLGaMS1gl8Rxzp2lLB8gwGsW8D71akriLVPEPzpXgfQu9K5YYvSpV6R3YI4KhG38uTTu8r5q3XN7eJ96ZQCRHJnjgmAZHdZzN1yWHxDNmRPGnnpFYLKs47oUhpH4ODpwOEjjkKgiWWDsxh2xkWgT2Uowx4xcvZ2rhADQgeNJFAcBi7OK7GQEsyK+6gAhfsSZiPft7QhIlG1kK6kVjMSrt9LuTUcbi3jiS1zUrh4a205oBfN7vGwr7SA7MUFAco+8nwTxdjJrmImXbqW9WUxi8bTng/iTZsqw2ttZi2IgIFFWse1ENmB09YqttHeLSYj3aO454D1e5u2cRDEQmCib6JYiG3Bu3O3OvzUF8V5hJF7q7TSi9K6egCTZxLeV2IB7q35/cerEq7ydWpSO+Mz6233G+LYCm5jNsGwIjDksm/m3eFt5LQwZlg36gcMxMBXx0JIiA0JNmM+wbACMOixbu/rMejDPOtCMGQ3L+of3YVlY484L8bowCBwbd+N8/Cg0Rh6WJVXkwa5+eG+GG/G+PnBoDb/tCO/DsnoQmChACntJPbj11Xv7wKElwE4SLM6vKK2rJ/ZSFUkcJPWQGbYYlbu6kT5w2MkLEu8sqCOAsAxrtxhVLJEet46v+R7X1fvtqycgQeY0LnJa6ZmAzLTFaAwzcDwbelOuDtCGHUAUBQEL06ZxEVMmbbQJM9MWoxYI7+p9i9UHQz8IUYvy7eolaVyk5JLx7CymLUbHhtMMHN1cBMf949UgxgsgKZK3vwEzcCxkRQq3DO8vJX06oXQn2lNzchnnDG4zcGxlRQrHDG9ajdqw4xREc2abugXHGTiWsiKF91a9d1ffpo7I48iSqU1dwHUGjp2sSOF9Bo5/4ltrCYApQPHcJ2LYyIoUzjNw+kM3wXQnkiNtfFg00BKqqb9zFwzOM3AmIB5CKCBKBQPxa9ZwOY9gfXwIjNtl6wjS+K2NZzdiRzP8xU+kIZXF28iaFUyu3trbBSOeGOIYwiUpigz/7pc/kwUlX8d79naub3wkN03FsaWdRae5+b2a+P1rNzvAmPRpzrnz6u2cxxuI3wkZ5WOiJ/746Kb4L+2qkqWwzcTUGLOOdx9oUpJrb+qN+Hri6Sf+LreJtuqB3q4pSj/ZEpirLoj0ovSqVkw7ib5VX1C+W+a7JFv1UXs7MliC4XVul9253QB7LU+M+Ji9HbGL7TQ6Z4HTIt7F24V4nWvDul5XPSVa4rPMqrl+WsS7eLvgxBPL6OrHBC0+OlEqEK8pdMTbUo/EB4SlizdG1xCfi44Z8M2Q+BCu3rBHnRSAp0RPvLhzmnW8g6gAxGf+PvLVlasPQYsfW1RHMCE2ssGtfjPx8Jsi8XrsL7Js2bpCZ++1ZvA9vSkn838kXiPp3pT57s0nN6BsEFAsCrOrR4uHi9K6erab2XWrC1hCfBm5NUD0crv/wJgF+/F425A8kWXS9qJeVLMcG3/LKBth7euMTuthvzerzeLzakRgnd15j1o8PV9nC/J3NMr+3kV2vj3+JR0gXnc9RgO2DQE34idbJu0X47p6Ydo79olA/nvz9bdyZuYveUDhFGaSyu0AAASNSURBVAri6fnhwY/2b+V8sOD46Pt/80fbfHNv0Z3aXYP4y7BOlamWSXvGuMTvqLX+3w8pdbul+M2m9BV1Pw2il1gdT89pCW+y7OymoD9/+hd/+offy+m51OSdWv2OxI+8TDoQpqjjly2LX/FKnY0BFpcKC2eNu3/841cPtkXVQC2eEs8GCXdyP+/4sod1vE9R+vd40apv1fGU0XVVx5/do8TT88PV+WcX2dl7K048tfY7NKA3P4AMyrBdiL8UEyPS93gCjgiO2ccQ4vE7d0FEgUGGJEaL9ylqeJctCRJVAiTep6ihxIN9NzSeGti4i0gUgcaDRtQAO3CiE2UE8SEEO3B8ihri6omXfIDhtQNndvBThrXuL9yzQrxGA0Ctik5PaR0PSqkPdQ8cktQbAukWqsj8pYGkROJjCfSYBpISiY8l0GMaSEokPpZAj2kgKZH4WAI9poGkROJjCfSYBnECQOITBRKfKJD4RIHEJwokPlEg8YkCiU8UTsSvs7MbcVAeycK6QfqE9bZAspTN0F7w8br8NqU8qS/AdJNtb1QG1jmVi+0PhTZutenNuNeXpxYuxO/Ot/xrQXyKjjysOgAm5F+jyRUp61BZUr5uQZnUF2C6VTmVpixzqgjsPTONW/WXWujLUw8X4osnj2fw8O5F94PfVVh1AEyYH78t5vrIUtahsqQs1UqV1BtgulU5lQVWOVUEqsXm+8t/6BKvLU8DnIhfiflYu+LR7qhRhVUHwIR5NclLlrIOlSdlpqRM6gkw3WQbmjUT7LoMNQLXPaOuAun6WmWgolB0sCZ+nS1az28nNzCrkCTMa+LlZtsozn7S9aJ/A++A6qa1+HXPMtvuYKkIlK2lNJSnFoPqeHqvzoMGqwclCfPapuUVdRkqSVp9iCCKOl5CfF0ZX0ucVatUlorAXEKtoTy1cG/V0zm4kjX8jTBFy1eRkBeYKmUzVHJPag3qpL4A001W25SBa4ndtkql5w9qsTJHpy1PLfA9PlEg8YkCiU8USHyiQOITBRKfKJD4RIHEJwokPlEg8YkCiU8USHyiQOITBRKfKJD4RIHEJwokPlGMSTz9oHe2pLPEPtpW2/BQPO1MZwk4b25qQPetDo5RiX9LHBwebFvb8CDx42N84tk3+hfFfzFRjG3OkzP2i1Jh087oxh38y/0syk75rb35QRDP9Ko0Xuabe2yDggVdakOLw34OnS3GdvV3bgtWucXv2K47fHOenM0336z41jwV8TyK2MbnJMCJr1Rnv9g2VTlXnc6YflvoHTQjk1g8J57PFOeb87DrnxQenm3NUxHPo4htfE4CnHiuF9NYlMIy56qvV7XeQTMyIfF8tjDfnIcebd5f5nxrHkr85ZY++UL5aGrGwRAWz/WiGvPDTam6sPjwD/o0xF+dv7piO+sVlTfbnIcFv3ZDa4Oz91ZFlLquo9vynVAdT99sFlwvpjE/LPjmqjf1DpoRfI+PC2EXgTWAxMcFuoB+lAYNEp8okPhEgcQnCiQ+USDxiQKJTxRIfKJA4hMFEp8okPhEgcQnCiQ+USDxieL/AaXe99mE07oZAAAAAElFTkSuQmCC" alt="plot of chunk unnamed-chunk-13"/></p>

<h3>Scope</h3>

<p>The objects available to an R function are defined by the scope of the function.
But if the object is not available within the function, then the function will
look to the environment containing that function to see if the object is there.</p>

<pre><code class="r">a &lt;- 1
f &lt;- function() {
  return(a)
}
f()
</code></pre>

<pre><code>## [1] 1
</code></pre>

<p>If we modify the object within the function, that version of the object is 
only available within the function.</p>

<pre><code class="r">f &lt;- function() {
  a &lt;- 2
  return(a)
}
f()
</code></pre>

<pre><code>## [1] 2
</code></pre>

<pre><code class="r">a
</code></pre>

<pre><code>## [1] 1
</code></pre>

<p>Unless we use a special assignment operator <code>&lt;&lt;-</code></p>

<pre><code class="r">f &lt;- function() {
  a &lt;&lt;- a + 1
  return(a)
}
a
</code></pre>

<pre><code>## [1] 1
</code></pre>

<pre><code class="r">f()
</code></pre>

<pre><code>## [1] 2
</code></pre>

<pre><code class="r">a
</code></pre>

<pre><code>## [1] 2
</code></pre>

<p>So <strong>be careful</strong> when constructing functions to deal appropriately with the 
scope of the objects you are using!</p>

<h3>Loops</h3>

<p>Basic programming often consists of using loops and conditionals.
R has <code>for</code> and <code>while</code> loops as well as <code>if</code>-<code>else</code> statements.</p>

<p>Here is a basic <code>for</code> loop:</p>

<pre><code class="r">for (i in 1:3) {
  print(i)
}
</code></pre>

<pre><code>## [1] 1
## [1] 2
## [1] 3
</code></pre>

<p>A basic <code>while</code> loop:</p>

<pre><code class="r">i &lt;- 0
while (i &lt; 3) {
  i &lt;- i + 1
  print(i)
}
</code></pre>

<pre><code>## [1] 1
## [1] 2
## [1] 3
</code></pre>

<p>And a basic use of the <code>if</code>-<code>else</code> statement:</p>

<pre><code class="r">for (i in 1:10) {
  if (i&lt;5) {
    print(-i)
  } else {
    print(i*2)
  }
}
</code></pre>

<pre><code>## [1] -1
## [1] -2
## [1] -3
## [1] -4
## [1] 10
## [1] 12
## [1] 14
## [1] 16
## [1] 18
## [1] 20
</code></pre>

<p>There is also a useful <code>ifelse</code> function, but it is a little confusing.
This function takes in a vector logical first argument and two more scalar 
arguments. 
For each element in the logical vector, it will return the first scalar argument
when the element is true and the second scalar argument when the element is 
false.</p>

<pre><code class="r">ifelse((1:10) &lt; 5, &quot;Less than 5&quot;, &quot;Not less than 5&quot;)
</code></pre>

<pre><code>##  [1] &quot;Less than 5&quot;     &quot;Less than 5&quot;     &quot;Less than 5&quot;     &quot;Less than 5&quot;    
##  [5] &quot;Not less than 5&quot; &quot;Not less than 5&quot; &quot;Not less than 5&quot; &quot;Not less than 5&quot;
##  [9] &quot;Not less than 5&quot; &quot;Not less than 5&quot;
</code></pre>

<h4>Loop activity</h4>

<p>Create a function that has a single scalar argument named <code>a</code>. 
Use a loop inside the function to calculate the sum of the numbers
from 1 to a and return this sum.
Test using the sum up to 100 which should be 5050.</p>

<p><details><summary>Click for solution</summary>  </p>

<pre><code class="r">f &lt;- function(a) {
  sum &lt;- 0
  for (i in 1:a) {
    sum &lt;- sum + i
  }
  return(sum)
}
f(100)
</code></pre>

<pre><code>## [1] 5050
</code></pre>

<p></details></p>

<h2>Monte Carlo Methods in R</h2>

<p>With the prevalence of computers, statistics is increasingly utilizing methods
based on simulations to answer scientific questions of interest.
These methods are called Monte Carlo methods.</p>

<h3>Evaluating expectations</h3>

<p>Suppose we have a random variable with the probability mass function</p>

<p>|x|0|1|2|3|
|-|-|-|-|-|
|p(x)|.5|.25|.1|.15|</p>

<p>Now you are interested in estimating its expectation. 
If you can simulate from this distribution, then you can just take an average
of the simulated values.</p>

<p>To simulate from a discrete random variable with finite support, 
you can use the <code>sample()</code> function.</p>

<pre><code class="r">x &lt;- sample(0:3, size = 1e5, prob = c(.5,.25,.1,.15), replace = TRUE)
</code></pre>

<p>Now we can calculate the expectation and standard deviation (or variance) 
of these values which are estimates of the expectation and standard deviation
(or variance) of the random variable. </p>

<pre><code class="r">(m &lt;- mean(x))
</code></pre>

<pre><code>## [1] 0.90239
</code></pre>

<pre><code class="r">(s &lt;- sd(x))
</code></pre>

<pre><code>## [1] 1.091079
</code></pre>

<pre><code class="r">s^2 # variance
</code></pre>

<pre><code>## [1] 1.190454
</code></pre>

<p>The 100(1-a)% CLT can be used to provide bounds based on 
\[  
\overline{X} \pm z_{a/2} s/\sqrt{n}
 \]
where 
\( \overline{X} \) is the sample mean, 
\( z_{a/2} \) is the z-critical value,
\( s \) is the sample standard deviation, and
\( n \) is the size of our sample.
For example a 90% interval is </p>

<pre><code class="r">mean(x) + c(-1,1) * 
  qnorm(.95) * 
  sd(x) / sqrt( length(x) )
</code></pre>

<pre><code>## [1] 0.8967148 0.9080652
</code></pre>

<h4>Expectation activity</h4>

<p>Find the expectation for discrete random variable with the following pmf:</p>

<p>|x|10|12|21|33|
|-|-|-|-|-|
|p(x)|.1|.2|.3|.4|</p>

<p>Also find a 99% interval for this expectation using the CLT based on a million samples.</p>

<p><details><summary>Click for solution</summary> </p>

<pre><code class="r">x &lt;- sample(c(10,12,21,33), size = 1e6, prob = c(.1,.2,.3,.4), replace = TRUE)
mean(x) + c(-1,1) * 
  qnorm(.995) * 
  sd(x) / sqrt( length(x) )
</code></pre>

<pre><code>## [1] 22.86907 22.91581
</code></pre>

<p></details></p>

<h3>Estimating probabilities</h3>

<p>We can also use simulations to estimate probabilities. 
Suppose we have a random variable \( X\sim Unif(0,1) \) and a random variable 
\( Y\sim N(0,1) \) and we are interested in calculating the probability that 
\( X \) is larger than \( Y \). 
This is not an easy calculation to do by hand. 
But we can simply simulate a bunch of \( X \) and \( Y \) values and calculate the 
number of times that an \( X \) value is larger than an associated \( Y \) value.
Note that the event \( X>Y \) will have a Bernoulli distribution, i.e. there is 
some probability that \( X>Y \) (precisely the probability we are trying to find).
If we do this repeated for independent values of \( X \) and \( Y \) and record the 
number of times that \( X>Y \), this sum will have a binomial distribution.
Thus we can use the CLT with mean \( np \) and variance \( np(1-p) \) or rather than 
using the sum, we can take the average and use the CLT with mean \( p \) and 
\( p(1-p)/n \). 
Since we are trying to estimate \( p \), the latter makes more sense.</p>

<p>So here is the simulation</p>

<pre><code class="r">n &lt;- 1e5
x &lt;- runif(n)
y &lt;- rnorm(n)
(p &lt;- mean(x&gt;y))
</code></pre>

<pre><code>## [1] 0.68417
</code></pre>

<p>and a 95% interval based on the CLT</p>

<pre><code class="r">p + c(-1,1) * qnorm(.975) * sqrt(p*(1-p)/n)
</code></pre>

<pre><code>## [1] 0.6812889 0.6870511
</code></pre>

<h4>Probability activity</h4>

<p>Suppose \( X\sim Bin(10,.5) \) and \( Y\sim Po(5) \), calculate the probability that 
\( Y \ge X \). 
Since these are discrete random variables, the equal to sign is important.
As a reminder, to get <em>greater than or equal to</em> in R, use <code>&gt;=</code> and the 
random Poisson generator is <code>rpois()</code>. 
Provide a 95% interval based on a million samples.</p>

<p><details><summary>Click for solution</summary>  </p>

<pre><code class="r">n &lt;- 1e6
x &lt;- rbinom(n, size = 10, prob = 0.5)
y &lt;- rpois(n, lambda = 5)
p &lt;- mean(y &gt;= x)
p + c(-1,1) * qnorm(.975) * sqrt(p*(1-p)/n)
</code></pre>

<pre><code>## [1] 0.5563695 0.5583165
</code></pre>

<p></details></p>

</body>

</html>

