## ----install_packages, eval=FALSE----------------------------------------
## install.packages("Sleuth3")

## ----load_packages-------------------------------------------------------
library("tidyverse")
library("Sleuth3")

## ------------------------------------------------------------------------
n <- 12
test <- data.frame(y = rnorm(n))
test$char <- rep(c("a","b","A","B"), each=3)

## ------------------------------------------------------------------------
str(test$char)

## ------------------------------------------------------------------------
summary(test)
summary(test$char)

## ------------------------------------------------------------------------
table(test$char)

## ------------------------------------------------------------------------
write.csv(test, file = "test.csv", row.names = FALSE)

## ------------------------------------------------------------------------
test2 <- readr::read_csv("test.csv")

## ------------------------------------------------------------------------
summary(test2)

## ------------------------------------------------------------------------
case0501 <- read.csv(file = "case0501.csv") # We are overwriting the Sleuth3::case0501 data.frame

## ------------------------------------------------------------------------
str(case0501$Diet)

## ------------------------------------------------------------------------
case0501$Diet

## ------------------------------------------------------------------------
as.numeric(case0501$Diet)

## ------------------------------------------------------------------------
nlevels(case0501$Diet)
levels(case0501$Diet)

## ------------------------------------------------------------------------
summary(case0501$Diet)
table(  case0501$Diet)

## ------------------------------------------------------------------------
case0501$Diet_char <- as.character(case0501$Diet)
str(case0501)

## ------------------------------------------------------------------------
case0501$Diet_fact <- as.factor(case0501$Diet_char)
str(case0501)
all.equal(case0501$Diet, case0501$Diet_fact)

## ------------------------------------------------------------------------
newDiet = factor(case0501$Diet, 
                 levels = c("NP","N/N85","N/R40","N/R50","lopro","R/R50"))
table(newDiet) # compare to table(case0501$Diet)

## ------------------------------------------------------------------------
case0501 <- Sleuth3::case0501 %>%
  mutate(Diet_char = as.character(Diet),
         Diet_fact = as.factor(Diet_char))

## ------------------------------------------------------------------------
m <- lm(Lifetime ~ Diet_char, data = case0501)
summary(m)

## ------------------------------------------------------------------------
m <- lm(Lifetime ~ Diet_fact, data = case0501)
summary(m)

## ------------------------------------------------------------------------
case0501$Diet_fact <- relevel(case0501$Diet_fact, ref = "N/N85")
table(case0501$Diet_fact)

## ------------------------------------------------------------------------
m <- lm(Lifetime ~ Diet_fact, data = case0501)
summary(m)

## ------------------------------------------------------------------------
m <- lm(Lifetime ~ Diet, data = Sleuth3::case0501)
summary(m)

